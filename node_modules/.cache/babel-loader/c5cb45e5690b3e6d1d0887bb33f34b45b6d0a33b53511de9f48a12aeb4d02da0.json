{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import\"./Login.css\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(_ref){let{setLogin}=_ref;const[login,setLoginData]=useState({Username:\"\",password:\"\"});const[loginState,setLoginState]=useState(false);const navigate=useNavigate();const handleChange=e=>{e.preventDefault();const{id,value}=e.target;setLoginData({...login,[id]:value});};const submitForm=async e=>{e.preventDefault();try{const response=await axios.post(\"https://localhost:7221/User/login\",{Username:login.Username,Password:login.password});if(response.status===200){console.log(response.data);setLogin(true);setLoginState(true);alert(\"Successful\");navigate('/DashboardLayout');// Navigate to Dashboard after successful login\n}else{alert(\"Signup failed: ${response.data}\");}}catch(error){console.error(\"Error:\",error);alert(\"Please try again.\");}// Reset input boxes\nsetLoginData({Username:\"\",Password:\"\"});};return/*#__PURE__*/_jsx(_Fragment,{children:!loginState&&/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"login\",onSubmit:submitForm,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,id:\"Username\",value:login.Username,type:\"email\",required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,id:\"password\",value:login.password,type:\"password\",minLength:8,required:true}),/*#__PURE__*/_jsx(\"button\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Forgot Password?\"})]})]})});}export default Login;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","_ref","setLogin","login","setLoginData","Username","password","loginState","setLoginState","navigate","handleChange","e","preventDefault","id","value","target","submitForm","response","post","Password","status","console","log","data","alert","error","children","className","onSubmit","onChange","type","required","minLength"],"sources":["C:/Users/abdul/Documents/Study/web development/prayer App/PeacePulse-Fron/peae-pulse/peace-pulse/src/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Login.css\";\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Login({ setLogin }) {\r\n  const [login, setLoginData] = useState({\r\n    Username: \"\",\r\n    password: \"\"\r\n  });\r\n  const [loginState, setLoginState] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    e.preventDefault();\r\n    const { id, value } = e.target;\r\n    setLoginData({ ...login, [id]: value });\r\n  };\r\n\r\n  const submitForm = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.post(\"https://localhost:7221/User/login\", {\r\n        Username: login.Username,\r\n        Password: login.password,\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        console.log(response.data);\r\n        setLogin(true);\r\n        setLoginState(true);\r\n        alert(\"Successful\");\r\n        navigate('/DashboardLayout'); // Navigate to Dashboard after successful login\r\n      } else {\r\n        alert(\"Signup failed: ${response.data}\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n      alert(\"Please try again.\");\r\n    }\r\n    // Reset input boxes\r\n    setLoginData({\r\n      Username: \"\",\r\n      Password: \"\"\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!loginState && (\r\n        <div className=\"login-container\">\r\n          <h1>Login</h1>\r\n          <form className=\"login\" onSubmit={submitForm}>\r\n            <label>Username</label>\r\n            <input\r\n              onChange={handleChange}\r\n              id=\"Username\"\r\n              value={login.Username}\r\n              type=\"email\"\r\n              required\r\n            />\r\n            <label>Password</label>\r\n            <input\r\n              onChange={handleChange}\r\n              id=\"password\"\r\n              value={login.password}\r\n              type=\"password\"\r\n              minLength={8}\r\n              required\r\n            />\r\n            <button>Login</button>\r\n            <p>Forgot Password?</p>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}