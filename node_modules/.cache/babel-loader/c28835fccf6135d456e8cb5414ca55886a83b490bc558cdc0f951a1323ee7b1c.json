{"ast":null,"code":"import React from\"react\";import{useEffect}from\"react\";import{useState}from\"react\";import axios from\"axios\";import\"./GetPrayerData.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function GetPrayerData(){const[totalPrayerData,setPrayerData]=useState({});const[prayerData,setPrayerdata]=useState([]);const[tab,setTab]=useState(\"\");const[dateSelected,setDate]=useState(\"\");const handleSelect=e=>{const date=new Date(e.target.value);const day=date.getDate()+1;const month=date.getMonth()+1;const year=date.getFullYear();const formattedDay=day<10?\"0\".concat(day):day;const formattedMonth=month<10?\"0\".concat(month):month;setDate(\"\".concat(formattedMonth,\"-\").concat(formattedDay,\"-\").concat(year));};const fetchbyData=async()=>{try{const response=await axios.get(\"https://localhost:7221/Prayer/GetBydate/\".concat(dateSelected));setPrayerdata(response.data.$values);console.log(response.data.$values);if(response.status===404){console.log(\"set date\");}}catch(error){console.log(\"error\");}};const fetchData=async()=>{try{const response=await axios.get(\"https://localhost:7221/Dashboard/GetById/1\");setPrayerData(response.data);}catch(error){console.log(\"error\");}};useEffect(()=>{fetchData();},[fetchData]);useEffect(()=>{if(dateSelected){fetchbyData();}},[dateSelected]);const handleClick=e=>{const selectedTab=e.target.getAttribute('data-tab');setTab(selectedTab);};return/*#__PURE__*/_jsxs(\"div\",{className:\"Getprayer-body-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"Getprayer-heading\",children:\"Prayer Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Getprayer-status-container\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"Getprayer-nav-list\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"Getprayer-nav-item\",\"data-tab\":\"total\",onClick:handleClick,children:\"Aggregated Data\"}),/*#__PURE__*/_jsx(\"li\",{className:\"Getprayer-nav-item\",\"data-tab\":\"individual\",onClick:handleClick,children:\"Get by Date\"})]})}),tab===\"total\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"individual-tab\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total prayer Data\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"total-data\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"total-data-list\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"total-span\",children:\"Completed: \"}),totalPrayerData.completedPrayer]}),/*#__PURE__*/_jsxs(\"li\",{className:\"total-data-list\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"total-span\",children:\"Missed: \"}),totalPrayerData.missedPrayer]}),/*#__PURE__*/_jsxs(\"li\",{className:\"total-data-list\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"total-span\",children:\"Unfilled: \"}),totalPrayerData.unfilledPrayer]})]})]}),tab===\"individual\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"individual-tab\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Individual prayer Data\"}),/*#__PURE__*/_jsx(\"div\",{className:\"date-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",max:new Date().toISOString().split(\"T\")[0],onChange:handleSelect})}),/*#__PURE__*/_jsx(\"h4\",{children:dateSelected}),/*#__PURE__*/_jsx(\"ul\",{className:\"Getprayer-list\",children:prayerData.length!==0?prayerData.map(prayer=>/*#__PURE__*/_jsxs(\"li\",{className:\"Getprayer-item\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"Getprayer-detail\",children:prayer.prayerName}),/*#__PURE__*/_jsx(\"p\",{className:\"Getprayer-detail\",children:prayer.status})]},prayer.id)):/*#__PURE__*/_jsx(\"li\",{className:\"no-data\",children:\"No data found\"})})]})]});};export default GetPrayerData;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","GetPrayerData","totalPrayerData","setPrayerData","prayerData","setPrayerdata","tab","setTab","dateSelected","setDate","handleSelect","e","date","Date","target","value","day","getDate","month","getMonth","year","getFullYear","formattedDay","concat","formattedMonth","fetchbyData","response","get","data","$values","console","log","status","error","fetchData","handleClick","selectedTab","getAttribute","className","children","onClick","completedPrayer","missedPrayer","unfilledPrayer","type","max","toISOString","split","onChange","length","map","prayer","prayerName","id"],"sources":["C:/Users/abdul/Documents/Study/PeacePulse-Fron/src/Dashboard/GetPrayerData.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./GetPrayerData.css\";\r\n\r\n\r\nfunction GetPrayerData(){\r\n    const [totalPrayerData,setPrayerData]=useState({})\r\n    const[prayerData,setPrayerdata]=useState([])\r\n    const [tab,setTab]=useState(\"\")\r\n    const [dateSelected,setDate]=useState(\"\");\r\n\r\n    const handleSelect = (e) => {\r\n        const date = new Date(e.target.value);\r\n        const day = date.getDate()+1;\r\n        const month = date.getMonth() + 1;\r\n        const year = date.getFullYear();\r\n\r\n        const formattedDay = day < 10 ? `0${day}` : day;\r\n        const formattedMonth = month < 10 ? `0${month}` : month;\r\n\r\n        setDate(`${formattedMonth}-${formattedDay}-${year}`)\r\n       \r\n    };\r\n\r\n    const fetchbyData=async ()=>{\r\n        try {\r\n            const response = await axios.get(\r\n                `https://localhost:7221/Prayer/GetBydate/${dateSelected}`\r\n              );\r\n              setPrayerdata(response.data.$values)\r\n              console.log(response.data.$values)\r\n              if(response.status===404){\r\n                console.log(\"set date\")\r\n            }\r\n            \r\n        } \r\n       \r\n        catch (error) {\r\n            console.log(\"error\")\r\n        }\r\n\r\n    }\r\n\r\n    const fetchData=async ()=>{\r\n        try {\r\n            const response = await axios.get(\r\n                `https://localhost:7221/Dashboard/GetById/1`\r\n              );\r\n              \r\n              setPrayerData(response.data)\r\n            \r\n        } catch (error) {\r\n            console.log(\"error\")\r\n        }\r\n\r\n    }\r\n    useEffect(() => {\r\n        fetchData()\r\n        \r\n        \r\n      }, [fetchData]);\r\n\r\n      useEffect(() => {\r\n        if (dateSelected) {\r\n            fetchbyData();\r\n        }\r\n    }, [dateSelected]);\r\n\r\n      const handleClick=(e)=>{\r\n        const selectedTab = e.target.getAttribute('data-tab');\r\n        setTab(selectedTab)\r\n      }\r\n\r\n      \r\n\r\n    return (\r\n        <div className=\"Getprayer-body-container\">\r\n      <h2 className=\"Getprayer-heading\">Prayer Status</h2>\r\n      <div className=\"Getprayer-status-container\">\r\n        <ul className=\"Getprayer-nav-list\">\r\n          <li className=\"Getprayer-nav-item\" data-tab={\"total\"} onClick={handleClick}>\r\n            Aggregated Data\r\n          </li>\r\n          <li className=\"Getprayer-nav-item\" data-tab={\"individual\"} onClick={handleClick}>\r\n            Get by Date\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      {tab === \"total\" && (\r\n        <div className=\"individual-tab\">\r\n          <h3>Total prayer Data</h3>\r\n          <ul className=\"total-data\">\r\n            <li className=\"total-data-list\">\r\n              <span className=\"total-span\">Completed: </span>\r\n              {totalPrayerData.completedPrayer}\r\n            </li>\r\n            <li className=\"total-data-list\">\r\n              <span className=\"total-span\">Missed: </span>\r\n              {totalPrayerData.missedPrayer}\r\n            </li>\r\n            <li className=\"total-data-list\">\r\n              <span className=\"total-span\">Unfilled: </span>\r\n              {totalPrayerData.unfilledPrayer}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      )}\r\n      {tab === \"individual\" && (\r\n        <div className=\"individual-tab\">\r\n          <h3>Individual prayer Data</h3>\r\n          <div className=\"date-input\">\r\n            <input\r\n              type=\"date\"\r\n              max={new Date().toISOString().split(\"T\")[0]}\r\n              onChange={handleSelect}\r\n            />\r\n          </div>\r\n          <h4>{dateSelected}</h4>\r\n          <ul className=\"Getprayer-list\">\r\n            {prayerData.length !== 0 ? (\r\n              prayerData.map((prayer) => (\r\n                <li key={prayer.id} className=\"Getprayer-item\">\r\n                  <p className=\"Getprayer-detail\">{prayer.prayerName}</p>\r\n                  <p className=\"Getprayer-detail\">{prayer.status}</p>\r\n                </li>\r\n              ))\r\n            ) : (\r\n              <li className=\"no-data\">No data found</li>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n    \r\n};\r\nexport default GetPrayerData;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}